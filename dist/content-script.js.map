{
  "version": 3,
  "sources": ["../src/content-script.js"],
  "sourcesContent": ["(() => {\n\tconst processed = new WeakSet();\n\tlet currentPopover = null;\n\n\tfunction getWPDirectiveAncestorCount(el) {\n\t\tlet count = 0;\n\t\tlet parent = el.parentElement;\n\t\twhile (parent) {\n\t\t\tif (\n\t\t\t\tArray.from(parent.attributes).some((attr) =>\n\t\t\t\t\t/^data-wp-/.test(attr.name)\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\tparent = parent.parentElement;\n\t\t}\n\t\treturn count;\n\t}\n\n\tfunction processElement(el) {\n\t\tif (processed.has(el)) return;\n\t\tprocessed.add(el);\n\n\t\tconst style = getComputedStyle(el);\n\t\tif (style.position === 'static') el.style.position = 'relative';\n\n\t\tconst dot = document.createElement('div');\n\t\tdot.className = 'wp-context-dot';\n\n\t\t// Offset dot by -1em for each ancestor with data-wp-*\n\t\tconst level = getWPDirectiveAncestorCount(el);\n\t\tdot.style.top = `calc(0px - ${level}em)`;\n\t\tdot.style.left = `calc(0px - ${level}em)`;\n\n\t\tel.appendChild(dot);\n\n\t\t// Add hover effect to outline the referenced element\n\t\tdot.addEventListener('mouseenter', () => {\n\t\t\tel.classList.add('wp-context-dot-outline');\n\t\t});\n\t\tdot.addEventListener('mouseleave', () => {\n\t\t\tel.classList.remove('wp-context-dot-outline');\n\t\t});\n\n\t\tdot.addEventListener('click', (e) => {\n\t\t\te.stopPropagation();\n\t\t\tif (currentPopover) {\n\t\t\t\tcurrentPopover.remove();\n\t\t\t\tcurrentPopover = null;\n\t\t\t}\n\n\t\t\tconst directives = Array.from(el.attributes)\n\t\t\t\t.filter((a) => /^data-wp-/.test(a.name))\n\t\t\t\t.map((a) => ({ name: a.name, value: a.value }));\n\n\t\t\tconst ul = document.createElement('ul');\n\t\t\tul.className = 'wp-context-directives';\n\t\t\tdirectives.forEach((d) => {\n\t\t\t\tconst li = document.createElement('li');\n\t\t\t\tli.textContent = `${d.name}: ${d.value}`;\n\t\t\t\tul.appendChild(li);\n\t\t\t});\n\n\t\t\tlet raw = el.getAttribute('data-wp-context') || '';\n\t\t\tlet pretty = raw;\n\t\t\ttry {\n\t\t\t\tconst obj = JSON.parse(raw);\n\t\t\t\tpretty = JSON.stringify(obj, null, 2);\n\t\t\t} catch {}\n\t\t\tconst pre = document.createElement('pre');\n\t\t\tpre.textContent = pretty;\n\n\t\t\tconst pop = document.createElement('div');\n\t\t\tpop.className = 'wp-context-popover';\n\n\t\t\tconst elLabel = el.id || el.className;\n\t\t\tif (elLabel) {\n\t\t\t\tconst elLabelEl = document.createElement('div');\n\t\t\t\tconst elLabelSpan = document.createElement('strong');\n\t\t\t\telLabelSpan.textContent = 'Element: ';\n\t\t\t\telLabelEl.appendChild(elLabelSpan);\n\t\t\t\telLabelEl.appendChild(document.createTextNode(elLabel));\n\t\t\t\tpop.appendChild(elLabelEl);\n\t\t\t}\n\n\t\t\tif (directives.length) {\n\t\t\t\tconst hd = document.createElement('h4');\n\t\t\t\thd.textContent = 'Interactivity Directives';\n\t\t\t\tpop.appendChild(hd);\n\t\t\t\tpop.appendChild(ul);\n\t\t\t}\n\t\t\tif (raw) {\n\t\t\t\tconst hd2 = document.createElement('h4');\n\t\t\t\thd2.textContent = 'Context JSON';\n\t\t\t\tpop.appendChild(hd2);\n\t\t\t\tpop.appendChild(pre);\n\t\t\t}\n\n\t\t\tel.appendChild(pop);\n\t\t\tcurrentPopover = pop;\n\t\t});\n\t}\n\n\t// Select all elements with any data-wp-* attribute\n\tfunction selectAllWPDirectiveElements() {\n\t\treturn Array.from(document.querySelectorAll('*')).filter((el) =>\n\t\t\tArray.from(el.attributes).some((attr) =>\n\t\t\t\t/^data-wp-/.test(attr.name)\n\t\t\t)\n\t\t);\n\t}\n\n\tselectAllWPDirectiveElements().forEach(processElement);\n\n\tnew MutationObserver((muts) => {\n\t\tfor (const m of muts) {\n\t\t\tfor (const node of m.addedNodes) {\n\t\t\t\tif (node.nodeType === 1) {\n\t\t\t\t\t// If the node itself has a data-wp-* attribute\n\t\t\t\t\tif (\n\t\t\t\t\t\tArray.from(node.attributes || []).some((attr) =>\n\t\t\t\t\t\t\t/^data-wp-/.test(attr.name)\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\tprocessElement(node);\n\t\t\t\t\t}\n\t\t\t\t\t// Also check descendants\n\t\t\t\t\tnode.querySelectorAll &&\n\t\t\t\t\t\tnode.querySelectorAll('*').forEach((child) => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tArray.from(child.attributes).some((attr) =>\n\t\t\t\t\t\t\t\t\t/^data-wp-/.test(attr.name)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tprocessElement(child);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}).observe(document.documentElement, { childList: true, subtree: true });\n\n\tdocument.addEventListener('click', () => {\n\t\tif (currentPopover) {\n\t\t\tcurrentPopover.remove();\n\t\t\tcurrentPopover = null;\n\t\t}\n\t});\n})();\n"],
  "mappings": "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",
  "names": ["processed", "currentPopover", "getWPDirectiveAncestorCount", "el", "count", "parent", "attr", "processElement", "dot", "level", "e", "directives", "a", "ul", "d", "li", "raw", "pretty", "obj", "pre", "pop", "elLabel", "elLabelEl", "elLabelSpan", "hd", "hd2", "selectAllWPDirectiveElements", "muts", "m", "node", "child"]
}
