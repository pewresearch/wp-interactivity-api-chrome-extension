(()=>{(()=>{let p=new WeakSet,r=null;function h(e){let c=0,n=e.parentElement;for(;n;)Array.from(n.attributes).some(o=>/^data-wp-/.test(o.name))&&c++,n=n.parentElement;return c}function s(e){if(p.has(e))return;p.add(e),getComputedStyle(e).position==="static"&&(e.style.position="relative");let n=document.createElement("div");n.className="wp-context-dot";let o=h(e);n.style.top=`calc(0px - ${o}em)`,n.style.left=`calc(0px - ${o}em)`,e.appendChild(n),n.addEventListener("mouseenter",()=>{e.classList.add("wp-context-dot-outline")}),n.addEventListener("mouseleave",()=>{e.classList.remove("wp-context-dot-outline")}),n.addEventListener("click",d=>{d.stopPropagation(),r&&(r.remove(),r=null);let u=Array.from(e.attributes).filter(t=>/^data-wp-/.test(t.name)).map(t=>({name:t.name,value:t.value})),i=document.createElement("ul");i.className="wp-context-directives",u.forEach(t=>{let l=document.createElement("li");l.textContent=`${t.name}: ${t.value}`,i.appendChild(l)});let m=e.getAttribute("data-wp-context")||"",f=m;try{let t=JSON.parse(m);f=JSON.stringify(t,null,2)}catch{}let v=document.createElement("pre");v.textContent=f;let a=document.createElement("div");a.className="wp-context-popover";let E=e.id||e.className;if(E){let t=document.createElement("div"),l=document.createElement("strong");l.textContent="Element: ",t.appendChild(l),t.appendChild(document.createTextNode(E)),a.appendChild(t)}if(u.length){let t=document.createElement("h4");t.textContent="Interactivity Directives",a.appendChild(t),a.appendChild(i)}if(m){let t=document.createElement("h4");t.textContent="Context JSON",a.appendChild(t),a.appendChild(v)}e.appendChild(a),r=a})}function y(){return Array.from(document.querySelectorAll("*")).filter(e=>Array.from(e.attributes).some(c=>/^data-wp-/.test(c.name)))}y().forEach(s),new MutationObserver(e=>{for(let c of e)for(let n of c.addedNodes)n.nodeType===1&&(Array.from(n.attributes||[]).some(o=>/^data-wp-/.test(o.name))&&s(n),n.querySelectorAll&&n.querySelectorAll("*").forEach(o=>{Array.from(o.attributes).some(d=>/^data-wp-/.test(d.name))&&s(o)}))}).observe(document.documentElement,{childList:!0,subtree:!0}),document.addEventListener("click",()=>{r&&(r.remove(),r=null)})})();})();
//# sourceMappingURL=content-script.js.map
